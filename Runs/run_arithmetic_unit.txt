# add all Verilog source files, separated by spaces
set sourcefiles {Sources/arithmetic_unit.v Sources/bit_split.v Sources/adder_substractor.v Sources/xor_wordgate.v Sources/bit_xor.v Sources/carry_select_adder.v Sources/ripple_carry_adder.v Sources/full_adder_cell.v Sources/adder_level.v Sources/mux2to1.v Sources/sign_extend.v Sources/booth_radix4_multiplier.v Sources/non_restoring_division.v Sources/absolute_value.v Sources/sign_negator.v Sources/not_gate.v Sources/bit_not.v Sources/plus_1_adder.v Sources/half_adder_cell.v Sources/bit_concat.v Sources/operands_negator.v Sources/mux4to1.v Tests/arithmetic_unit_tb.v}

# set name of the top module
set topmodule arithmetic_unit_tb

###################################################
#####DO NOT MODIFY THE SCRIPT BELLOW THIS LINE#####
###################################################

# quit current simulation if any
quit -sim

# empty the work library if present
if [file exists "work"] {vdel -all}
#create a new work library
vlib work

# run the compiler
if [catch "eval vlog $sourcefiles"] {
    puts "correct the compilation errors"
    return
}

vsim -voptargs=+acc $topmodule

run -all
quit -sim